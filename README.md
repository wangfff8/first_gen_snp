# vsat
The **Virus SNP Analysis Tool(VSAT)** is tailored for data generated by first-generation sequencing and serves as a concise yet powerful toolkit aimed at streamlining the study of single nucleotide polymorphisms (SNPs) in viral genomes using first-generation sequencing techniques.

## Usage
### step1 Prepare and Assemble
1. <strong>Set up your project directory</strong><br>
Begin by creating a directory for your project and navigating into it:
```bash
mkdir your_project
cd your_project
```

2. <strong>Create a directory for raw data</strong><br>
Create a directory named rawdata to store your first-generation sequencing results(e.g., files with extensions like \*.seq, \*.ab1, \*.pdf):
```bash
mkdir rawdata
```

3. <strong>Prepare the ID map file</strong><br>
Create an ID map file named <code>id_map.xls</code>. Populate this file with the following format:
```plaintext
-1_  sample1 
-2_  sample2 
-3_  sample3 
-4_  sample4 
```

4. <strong>Run the sequence assembly</strong><br>
Copy the assembly script located at <code>vsat/step1.run_cap3_assemble.sh</code> into your project directory.
Modify parameters as necessary, then execute the script to perform sequence assembly:
```bash
python first_gen_snp/vsat/cap3_assemble.py \
    --rawdata /path_to/your_project/rawdata/ \
    --split_data /path_to/your_project/split_data \
    --assemble_dir /path_to/your_project/assemble \
    --id_map /path_to/your_project/id_map.xls

```

5. <strong>Post-assembly processing</strong><br>
After assembly, you will find the assembled sequences in the directory <code>assemble/*/*.cap.contigs.split</code>.
Download these sequences to your local machine for alignment using software like DNAMAN.
Combine the alignment results of \*.ab1 files with the reference viral genome to assist in comprehensive assembly.
This entire process will result in the complete viral genome.

### step2 Call SNPs
Once you have completed the sequence assembly, you can proceed to call SNPs using the following command:
```bash
python vsat/get_snp.py -g <LOCUS, input> -s <ASSEMBLY, input>
```
